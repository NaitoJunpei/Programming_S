<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <style type="text/css">
    body,td,th {font-size:10pt}
  </style>
  
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 13.0.6.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
	<script type="text/javascript" src="mt.js"></script>
	<script type="text/javascript" src="hmm_funcs.js"></script>
	<script type="text/javascript" src="hist.js"></script>
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript">
	  google.charts.load('current', {'packages' :['corechart']}); //GoogleChartsが使えるようになる
	</script>
	
	<script type="text/javascript">
	  if (window.File && window.FileReader && window.FileList && window.Blob) {
	  // Great success! All the File APIs are supported.
	  } else {
	    alert('The File APIs are not fully supported in this browser.');
	  }
	</script>
	
	<title>Histogram Optimization</title>
</HEAD>

<BODY onLoad="Initialize()" style="font-family:Optima,Arial">

<div style="width:920">
		
		
	<!-- Header -->
	<h2>Toolbox: Estimating the firing rate</h2>
	
	<!-- Web Application --> 
	<FORM name="data">
		<font face="Arial Black"><strong>1. You can paste your data here, </strong></font>&nbsp;&nbsp;
		<INPUT type="button" value=" or, replace it with another sample," onclick="ResetData()" style="font-size:10pt"> or, upload your data <INPUT type="file" id="selfile"><br>
		<script type="text/javascript">
		  function handleFileSelect(evt) {
		    var file = evt.target.files;
		    console.log(file);
		    console.log(file[0].name + "を取得しました");
		    var reader = new FileReader();
		    reader.readAsText(file[0]);
		    reader.onload = function(ev) {
		      document.data.spikes.value = reader.result;
		      console.log(reader.result);
		      Main();
		    }
		  }
		  document.getElementById('selfile').addEventListener('change', handleFileSelect, false);
		</script>
		
		&nbsp;&nbsp;&nbsp;&nbsp;<TEXTAREA name="spikes" rows="3" cols="95" font="3" style="font-size:10pt" onChange="Main()"></TEXTAREA><br>
		&nbsp;&nbsp;&nbsp;&nbsp;Please list spike times in increasing order, separated by a comma or a space.<br>
		&nbsp;&nbsp;&nbsp;&nbsp;Your data would not leak out, because the computation is carried out by your computer.<br><br>
		
		<font face="Arial Black"><strong>2.Estimate the firing rate</strong></font><br>
		&nbsp;&nbsp;&nbsp;&nbsp;(A) Histogram: L2 risk minimization (Shimazaki and Shinomoto [1])<br>
		<canvas id="graph_SS" width="800" height="70"></canvas>
		<canvas id="raster" width="800" height="10"></canvas><br>
		<p id="optimal_SS" style="font-size:10pt"></p>
		&nbsp;&nbsp;&nbsp;&nbsp;(B) Histogram: L2 risk minimization for non-Poisson spike trains (Omi and Shinomoto [2])<br>
		<canvas id="graph_OS" width="800" height="70"></canvas><br>
		<canvas id="raster2" width="800" height="10"></canvas><br>
		<p id="optimal_OS" style="font-size:10pt"></p>
		&nbsp;&nbsp;&nbsp;&nbsp;(C) Kernel density estimation: L2 risk minimization (Shimazaki and Shinomoto [3])<br>
		<canvas id = "ShimazakiKernel" width="800" height="70"></canvas><br>
		<canvas id = "raster3" width="800" height="10"></canvas><br>
		<p id="optimal_ShimazakiKernel" style="font-size:10pt"></p>
		&nbsp;&nbsp;&nbsp;&nbsp;(D) Kernel density estimation: L2 risk minimization, reflection boundary.<br>		
		<canvas id = "ShimazakiKernel2" width="800" height="70"></canvas><br>
		<canvas id = "raster4" width="800" height="10"></canvas><br>
		<p id="optimal_ShimazakiKernel2" style="font-size:10pt"></p>
		&nbsp;&nbsp;&nbsp;&nbsp;(G) Hidden Markov Model<br>
		<canvas id = "HMM" width = "800" height = "70"></canvas><br>
		<canvas id = "raster5" width = "800" height = "10"></canvas><br>
		<div id="google" style="width: 800px; height: 10px"></div>
		
	</FORM>
	<HR width="920" align="left">
	
	
	<!-- Formula --> 
	
	<!-- Contact --><FONT size="-1">[1] Shimazaki H and Shinomoto S (2007) A method for selecting the bin size of a time histogram. Neural Computation 19:1503-1700.<br>
[2] Omi T and Shinomoto S (2011) Optimizing time histograms for non-Poissonian spike trains. Neural Computation 23:3125-3144.<br>
[3] Shimazaki H and Shinomoto S (2010) Kernel bandwidth optimization in spike rate estimation. J. Computational Neuroscience 29:171-182.<br>
	  </FONT><BR>
</div>
</BODY>

</html> 

